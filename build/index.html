<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Shoot 13 Nomsters</title><style>.a-canvas {
        cursor: default !important;
      }</style><script src=https://js13kgames.com/webxr-src/2024/aframe.js></script><script>!function(){"use strict";class t{canvas;con;height;width;constructor(t,e,s,i=2,a){t??=document.createElement("canvas"),this.canvas=t,this.con=t.getContext("2d"),this.reset(e,s,i),a?.(this.con,e,s)}reset(t,e,s=2){this.height=e,this.width=t,this.canvas.height=s*e,this.canvas.width=s*t,this.con.scale(s,s)}}function e(t,e){const s=t.audioContext||new AudioContext,i=t.sampleRate||s.sampleRate,a=t.channels||2,n=1.5*t.decay,r=Math.ceil(i*n),c=Math.ceil(i*t.fadeIn),h=Math.ceil(i*t.decay),o=Math.pow(.001,1/h),u=s.createBuffer(a,r,i);for(let t=0;t<a;++t){const e=u.getChannelData(t);for(let t=0;t<r;++t)e[t]=(Math.floor(9007199254740992*Math.random())/9007199254740991*2-1)*Math.pow(o,t);for(let t=0;t<c;++t)e[t]*=t/c}!function(t,e,s,i,a){if(!e)return void a(t);e=Math.min(e,.5*t.sampleRate),s=Math.min(s,.5*t.sampleRate);const n=function(t){const e=[];for(let s=0;s<t.numberOfChannels;++s)e[s]=t.getChannelData(s);return e}(t),r=new OfflineAudioContext(t.numberOfChannels,n[0].length,t.sampleRate),c=r.createBufferSource(),h=r.createBiquadFilter();h.type="lowpass",h.Q.value=1e-4,h.frequency.setValueAtTime(e,0),h.frequency.linearRampToValueAtTime(s,i),h.connect(r.destination),c.buffer=t,c.connect(h),c.start(),r.oncomplete=function(t){a(t.renderedBuffer)},r.startRendering()}(u,t.lpFreqStart,t.lpFreqEnd,t.decay,e)}"undefined"==typeof AudioContext&&(window.AudioContext=window.webkitAudioContext,window.OfflineAudioContext=window.webkitOfflineAudioContext);const s=120/118;let i,a,n,r;function c(){return i=new AudioContext,a=i.createGain(),a.gain.value=.3333,n=i.createGain(),n.gain.value=.4,function(){const t=i.createConvolver(),r=i.createGain(),c=i.createGain();return r.gain.value=2/3,c.gain.value=1/3,a.connect(t),a.connect(r),n.connect(t),n.connect(r),t.connect(c),r.connect(i.destination),c.connect(i.destination),new Promise((function(a){e({audioContext:i,fadeIn:1e-5,decay:1.5*s,lpFreqStart:16e3,lpFreqEnd:1e3},(function(e){t.buffer=e,a()}))}))}()}function h(t,e,n){const c=function(t){return 440*Math.pow(2,(t-69)/12)}(t);e*=s,n*=s;const h=i.createOscillator();h.type="square",h.frequency.value=c,function(t,e){const a=i.createGain();return a.gain.setValueAtTime(.5,r+e),a.gain.exponentialRampToValueAtTime(1e-5,r+e+1.5*s),t.connect(a),a}(h,e).connect(a),h.start(r+e),h.stop(r+n)}function o(t){switch(t>51?(t-8)%44+8:t){case 0:h(57,t+0,t+.25),h(45,t+0,t+2),h(60,t+.25,t+.5),h(57,t+.5,t+.75),h(64,t+.75,t+1.25);break;case 1:h(60,t+.25,t+.75),h(60,t+.75,t+1);break;case 2:h(52,t+0,t+1),h(60,t+.25,t+.5),h(57,t+.5,t+.75),h(64,t+.75,t+1.25);break;case 3:h(52,t+0,t+.75),h(60,t+.25,t+.75),h(60,t+.75,t+1),h(52,t+.75,t+1);break;case 4:h(45,t+0,t+1.75),h(57,t+.25,t+.5),h(60,t+.5,t+.75),h(64,t+.75,t+1.25),h(57,t+.75,t+1.25);break;case 5:h(57,t+.25,t+.5),h(60,t+.5,t+1),h(52,t+.75,t+1);break;case 6:h(60,t+0,t+1),h(52,t+0,t+.5),h(52,t+.5,t+1.5);break;case 7:h(64,t+0,t+1),h(52,t+.5,t+.75),h(52,t+.75,t+1);break;case 8:h(57,t+0,t+.25),h(45,t+0,t+.75),h(57,t+.25,t+.5),h(57,t+.5,t+.75),h(60,t+.75,t+1.25),h(52,t+.75,t+1.75);break;case 9:h(69,t+.25,t+.5),h(67,t+.5,t+.75),h(69,t+.75,t+1),h(52,t+.75,t+1);break;case 10:h(69,t+0,t+.75),h(41,t+0,t+.25),h(48,t+.25,t+.5),h(55,t+.5,t+1.5),h(57,t+.75,t+1.75);break;case 11:h(55,t+.5,t+.75),h(67,t+.75,t+1),h(50,t+.75,t+1);break;case 12:h(67,t+0,t+.25),h(55,t+0,t+.75),h(67,t+.25,t+.5),h(67,t+.5,t+.75),h(66,t+.75,t+1.25),h(57,t+.75,t+1.75),h(54,t+.75,t+1.75);break;case 13:case 21:h(67,t+.25,t+.5),h(66,t+.5,t+.75),h(64,t+.75,t+1),h(47,t+.75,t+1);break;case 14:case 22:h(52,t+0,t+.25),h(47,t+0,t+2),h(54,t+.25,t+.5),h(56,t+.5,t+.75),h(59,t+.75,t+1.75);break;case 15:h(57,t+.75,t+1);break;case 16:h(57,t+0,t+.25),h(45,t+0,t+.75),h(57,t+.25,t+.5),h(57,t+.5,t+.75),h(60,t+.75,t+1.25),h(52,t+.75,t+1.25);break;case 17:h(69,t+.25,t+.5),h(57,t+.25,t+1),h(67,t+.5,t+.75),h(69,t+.75,t+1);break;case 18:h(69,t+0,t+.75),h(57,t+0,t+.25),h(53,t+0,t+.25),h(48,t+0,t+.25),h(48,t+.25,t+.5),h(55,t+.5,t+.75),h(65,t+.75,t+1.75),h(57,t+.75,t+1.25);break;case 19:h(57,t+.25,t+.5),h(60,t+.5,t+1),h(67,t+.75,t+1);break;case 20:h(67,t+0,t+.25),h(43,t+0,t+.5),h(59,t+.25,t+.5),h(67,t+.5,t+.75),h(50,t+.5,t+.75),h(66,t+.75,t+1.25),h(47,t+.75,t+1.75);break;case 23:h(67,t+.75,t+1);break;case 24:h(67,t+0,t+.25),h(59,t+0,t+.5),h(55,t+0,t+.5),h(62,t+.25,t+.5),h(67,t+.5,t+.75),h(59,t+.5,t+.75),h(67,t+.75,t+1.25),h(57,t+.75,t+1.25);break;case 25:h(67,t+.25,t+.5),h(50,t+.25,t+.5),h(67,t+.5,t+.75),h(43,t+.5,t+1),h(68,t+.75,t+1),h(64,t+.75,t+1);break;case 26:h(68,t+0,t+.25),h(64,t+0,t+.25),h(40,t+0,t+.5),h(64,t+.25,t+.5),h(62,t+.5,t+.75),h(47,t+.5,t+.75),h(62,t+.75,t+1.25),h(52,t+.75,t+1.5);break;case 27:h(60,t+.25,t+.75),h(52,t+.5,t+.75),h(57,t+.75,t+1),h(47,t+.75,t+1);break;case 28:h(60,t+0,t+.5),h(45,t+0,t+.5),h(72,t+.5,t+1),h(64,t+.5,t+1),h(57,t+.5,t+.75),h(48,t+.75,t+1);break;case 29:h(60,t+0,t+.25),h(57,t+0,t+.75),h(53,t+0,t+.75),h(65,t+.25,t+.5),h(67,t+.5,t+.75),h(72,t+.75,t+1),h(43,t+.75,t+1);break;case 30:h(72,t+0,t+.25),h(64,t+0,t+.25),h(60,t+0,t+.25),h(48,t+0,t+.5),h(36,t+0,t+.5),h(72,t+.25,t+.5),h(64,t+.25,t+.5),h(60,t+.25,t+.5),h(72,t+.5,t+.75),h(64,t+.5,t+.75),h(60,t+.5,t+.75),h(55,t+.5,t+.75),h(72,t+.75,t+1.25),h(64,t+.75,t+1.25),h(60,t+.75,t+1.25),h(50,t+.75,t+1.5);break;case 31:h(71,t+.25,t+1),h(62,t+.25,t+1),h(59,t+.25,t+1),h(57,t+.5,t+.75),h(50,t+.75,t+1);break;case 32:h(72,t+0,t+.25),h(64,t+0,t+.25),h(60,t+0,t+.25),h(57,t+0,t+.5),h(52,t+0,t+.5),h(45,t+0,t+.5),h(72,t+.25,t+.5),h(72,t+.5,t+.75),h(59,t+.5,t+1),h(72,t+.75,t+1.25);break;case 33:h(57,t+0,t+.5),h(53,t+0,t+.5),h(48,t+0,t+.5),h(71,t+.25,t+.5),h(69,t+.5,t+.75),h(48,t+.5,t+1),h(67,t+.75,t+1),h(64,t+.75,t+1),h(60,t+.75,t+1);break;case 34:h(67,t+0,t+.25),h(64,t+0,t+.25),h(60,t+0,t+.25),h(36,t+0,t+.5),h(69,t+.25,t+.5),h(71,t+.5,t+.75),h(43,t+.5,t+.75),h(72,t+.75,t+1.25),h(68,t+.75,t+1.25),h(64,t+.75,t+1.25),h(48,t+.75,t+1);break;case 35:h(40,t+0,t+.5),h(71,t+.25,t+1),h(56,t+.5,t+.75),h(52,t+.75,t+1);break;case 36:h(60,t+0,t+.5),h(45,t+0,t+.25),h(52,t+.25,t+.5),h(72,t+.5,t+1),h(64,t+.5,t+1),h(60,t+.5,t+1),h(57,t+.5,t+1);break;case 37:h(60,t+0,t+.25),h(57,t+0,t+.5),h(53,t+0,t+.5),h(65,t+.25,t+.5),h(67,t+.5,t+.75),h(48,t+.5,t+.75),h(72,t+.75,t+1),h(60,t+.75,t+1),h(43,t+.75,t+1);break;case 38:h(72,t+0,t+.25),h(67,t+0,t+.25),h(60,t+0,t+.25),h(48,t+0,t+.5),h(72,t+.25,t+.5),h(60,t+.25,t+.5),h(72,t+.5,t+.75),h(60,t+.5,t+.75),h(55,t+.5,t+.75),h(72,t+.75,t+1.25),h(67,t+.75,t+1.25),h(62,t+.75,t+1.25),h(50,t+.75,t+1);break;case 39:h(43,t+0,t+.25),h(71,t+.25,t+.75),h(67,t+.25,t+.75),h(62,t+.25,t+.75),h(50,t+.25,t+.5),h(57,t+.5,t+1),h(59,t+.75,t+1);break;case 40:h(72,t+0,t+.5),h(64,t+0,t+.5),h(60,t+0,t+.5),h(52,t+0,t+.5),h(45,t+0,t+.5),h(72,t+.5,t+.75),h(64,t+.5,t+.75),h(60,t+.5,t+.75),h(57,t+.5,t+.75),h(72,t+.75,t+1.25),h(67,t+.75,t+1.25),h(60,t+.75,t+1.25),h(48,t+.75,t+1);break;case 41:h(57,t+0,t+.5),h(53,t+0,t+.5),h(48,t+0,t+.5),h(71,t+.25,t+.5),h(69,t+.5,t+.75),h(60,t+.5,t+.75),h(57,t+.5,t+.75),h(67,t+.75,t+1),h(53,t+.75,t+1);break;case 42:h(67,t+0,t+.25),h(48,t+0,t+.25),h(36,t+0,t+.25),h(69,t+.25,t+.5),h(43,t+.25,t+.5),h(71,t+.5,t+.75),h(48,t+.5,t+.75),h(72,t+.75,t+1.25),h(68,t+.75,t+1.25),h(64,t+.75,t+1.25),h(60,t+.75,t+1.25),h(44,t+.75,t+1);break;case 43:h(52,t+0,t+.25),h(71,t+.25,t+1),h(68,t+.25,t+1),h(64,t+.25,t+1),h(47,t+.25,t+.5),h(56,t+.5,t+.75),h(52,t+.75,t+1);break;case 44:h(72,t+0,t+.5),h(64,t+0,t+.5),h(60,t+0,t+.5),h(57,t+0,t+.25),h(45,t+0,t+.25),h(52,t+.25,t+.5),h(72,t+.5,t+.75),h(60,t+.5,t+.75),h(57,t+.5,t+.75),h(72,t+.75,t+1.25),h(67,t+.75,t+1.25),h(60,t+.75,t+1.25),h(48,t+.75,t+1);break;case 45:h(57,t+0,t+.25),h(53,t+0,t+.25),h(71,t+.25,t+.5),h(55,t+.25,t+.5),h(69,t+.5,t+.75),h(48,t+.5,t+1),h(67,t+.75,t+1),h(64,t+.75,t+1),h(60,t+.75,t+1);break;case 46:h(67,t+0,t+.25),h(64,t+0,t+.25),h(60,t+0,t+.25),h(48,t+0,t+.25),h(36,t+0,t+.25),h(69,t+.25,t+.5),h(43,t+.25,t+.5),h(71,t+.5,t+.75),h(48,t+.5,t+1),h(72,t+.75,t+1.25),h(68,t+.75,t+1.25),h(60,t+.75,t+1.25);break;case 47:h(52,t+0,t+.5),h(40,t+0,t+.5),h(71,t+.25,t+1),h(68,t+.25,t+1),h(62,t+.25,t+1),h(47,t+.5,t+.75),h(52,t+.75,t+1);break;case 48:h(71,t+0,t+2),h(68,t+0,t+2),h(62,t+0,t+2),h(52,t+0,t+.25),h(54,t+.25,t+.75),h(56,t+.75,t+1.25);break;case 49:h(54,t+.25,t+.5),h(56,t+.5,t+1);break;case 50:h(64,t+0,t+1.75);break;case 51:h(52,t+.75,t+1)}}let u=-1;function l(){let t=i.currentTime-r+4,e=(u+1)*s;if(!(e>t))for(t+=4;e<t;)o(++u),e+=s}function b(){r=i.currentTime+.05,l(),setInterval(l,999)}let d=44100,k=(t=1,e=.05,s=220,i=0,a=0,n=.1,r=0,c=1,h=0,o=0,u=0,l=0,b=0,k=0,f=0,w=0,m=0,M=1,v=0,p=0)=>{let y,A,E=2*Math.PI,g=t=>t>0?1:-1,R=h*=500*E/d**2,C=g(f)*E/4,x=s*=(1+2*e*Math.random()-e)*E/d,F=[],q=0,S=0,T=0,H=1,I=0,_=0,O=0;for(o*=500*E/d**3,f*=E/d,u*=E/d,l*=d,b=b*d|0,A=(i=99+i*d)+(v*=d)+(a*=d)+(n*=d)+(m*=d)|0;T<A;F[T++]=O)++_%(100*w|0)||(O=r?r>1?r>2?r>3?Math.sin((q%E)**3):Math.max(Math.min(Math.tan(q),1),-1):1-(2*q/E%2+2)%2:1-4*Math.abs(Math.round(q/E)-q/E):Math.sin(q),O=(b?1-p+p*Math.sin(2*Math.PI*T/b):1)*g(O)*Math.abs(O)**c*t*.5*(T<i?T/i:T<i+v?1-(T-i)/v*(1-M):T<i+v+a?M:T<A-m?(A-T-m)/n*M:0),O=m?O/2+(m>T?0:(T<A-m?1:(A-T)/m)*F[T-m|0]/2):O),y=(s+=h+=o)*Math.sin(S*f-C),q+=y-y*k*(1-1e9*(Math.sin(T)+1)%2),S+=y-y*k*(1-1e9*(Math.sin(T)**2+1)%2),H&&++H>l&&(s+=u,x+=u,H=0),!b||++I%b||(s=x,h=R,H=H||1);return F};const f=4294967295;class w{state;constructor(t){this.state=0|t}randomUint32(){let t=this.state=this.state+1831565813|0;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),(t^t>>>14)>>>0}random(){return this.randomUint32()/4294967296}}class m{x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}setSubtract(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}setPerpendicular(t){return this.x=-t.y,this.y=t.x,this}scale(t){return this.x*=t,this.y*=t,this}setMultiplyScalar(t,e){return this.x=t.x*e,this.y=t.y*e,this}length(){return(this.x**2+this.y**2)**.5}normalize(){const t=this.length();return 0!==t&&(this.x/=t,this.y/=t),this}dot(t){return this.x*t.x+this.y*t.y}distanceSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}}const M=new m,v=new m,p=(t,e,s)=>t*(1-s)+e*s,y=new w(1);class A{body;position;oldPosition;interpolated;radius;gravity;viscosity;constructor(t,e,s,i,a,n){this.body=t,this.position=new m(e,s),this.oldPosition=new m(e,s),this.interpolated=new m(e,s),this.radius=i,this.gravity=a,this.viscosity=n,t.vertices.push(this),t.positions.push(this.position),t.scene.vertices.push(this)}integrate(){const t=this.position,e=this.oldPosition,s=t.x,i=t.y;t.x+=(s-e.x)*this.viscosity,t.y+=(i-e.y)*this.viscosity+this.gravity,e.set(s,i);const{height:a,width:n}=this.body.scene;if(t.y<this.radius)t.y=this.radius;else if(t.y>a-this.radius&&(t.y=a-this.radius,!(15&y.randomUint32())))switch(t.y-=20,7&y.randomUint32()){case 0:t.x-=10;break;case 1:t.x+=10;break;case 2:case 3:t.x-=.1;break;case 4:case 5:t.x+=.1}t.x<this.radius?t.x=this.radius:t.x>n-this.radius&&(t.x=n-this.radius)}interpolate(t){this.interpolated.set(p(this.oldPosition.x,this.position.x,t),p(this.oldPosition.y,this.position.y,t))}}class E{scene;vertices;constraints;positions;constructor(t){this.scene=t,this.vertices=[],this.constraints=[],this.positions=[],t.bodies.push(this)}}const g=(t,e)=>t.position.distanceSquared(e.position)<(t.radius+e.radius)**2,R=(t,e)=>{const s=t.position,i=e.position,a=M,n=a.copy(i).subtract(s).length()-t.radius-e.radius,r=t.gravity+e.gravity,c=t.gravity/r,h=e.gravity/r;s.add(v.setMultiplyScalar(a.normalize(),h*n)),i.subtract(v.setMultiplyScalar(a,c*n))};new t(document.querySelector("canvas"),960,540).con;const C=new class{vertices;constraints;bodies;height;width;iterationCount;constructor(t,e,s){this.vertices=[],this.constraints=[],this.bodies=[],this.height=e,this.width=t,this.iterationCount=s}update(){this.vertices.forEach((t=>t.integrate()));for(let t=0;t<this.iterationCount;++t){this.constraints.forEach((t=>t.solve()));for(let t=this.vertices.length;--t>0;){const e=this.vertices[t];if(!e.dead)for(let s=t;--s>=0;){const t=this.vertices[s];t.dead||g(e,t)&&R(e,t)}}}}}(960,540,4);let x;const F=()=>{C.vertices=[],C.constraints=[],C.bodies=[];const t=new w(9);x=new E(C);const e=478,s=320,i=()=>((t,e)=>{const s=f-f%e;for(;;){const i=t.randomUint32();if(i<s)return i%e}})(t,5)-2;let a=0;new A(x,e+i()-44,s+.94*(i()-88),22,1,1).index=a++,new A(x,e+i()-44,s+.94*(i()-44),22,1,1).index=a++,new A(x,e+i()-44,s+.94*i(),22,1,1).index=a++,new A(x,e+i()-44,s+.94*(i()+44),22,1,1).index=a++,new A(x,e+i()-44,s+.94*(i()+88),22,1,1).index=a++,new A(x,e+i()-80,s+.94*(i()-70),22,1,1).index=a++,new A(x,e+i()+44,s+.94*(i()-88),22,1,1).index=a++,new A(x,e+i()+77,s+.94*(i()-66),22,1,1).index=a++,new A(x,e+i()+77,s+.94*(i()-22),22,1,1).index=a++,new A(x,e+i()+44,s+.94*i(),22,1,1).index=a++,new A(x,e+i()+77,s+.94*(i()+22),22,1,1).index=a++,new A(x,e+i()+77,s+.94*(i()+66),22,1,1).index=a++,new A(x,e+i()+44,s+.94*(i()+88),22,1,1).index=a++};let q=!1,S=0,T=0,H=!0;AFRAME.registerComponent("dakka",{init(){this.targets=document.querySelectorAll(".target");const t=document.querySelectorAll(".title");this.title1=t[0],this.title2=t[1],this.aliveText=document.querySelector(".alive"),this.accuracyText=document.querySelector(".accuracy"),this.thanksText=document.querySelector(".thanks");const e=t=>{if(!this.el.getAttribute("visible"))return;const e=this.el.components.raycaster.data.origin,s=new THREE.Vector3(e.x,e.y,e.z);this.el.object3D.localToWorld(s);const{object:i,point:a,distance:n,uv:r}=t.detail.intersection,c=document.createElement("a-entity");c.setAttribute("geometry",{primitive:"sphere",radius:.05}),c.setAttribute("material",{color:"#ff0044"}),c.setAttribute("position",s),c.setAttribute("animation",{property:"position",to:a,dur:50*n,easing:"linear"}),this.el.sceneEl.appendChild(c),c.addEventListener("animationcomplete",(()=>{c.parentNode.removeChild(c),this.bulletHit(i,r)})),q||"screen"!==i.el.id||(q=!0,S=0,T=0,this.title1.setAttribute("visible",!1),this.title2.setAttribute("visible",!1),this.aliveText.setAttribute("visible",!0)),I(P)};this.el.addEventListener("click",e),this.el.addEventListener("triggerdown",e)},bulletHit(t,e){switch(t.el.id){case"screen":const t=960*(1-e.x),s=540*(1-e.y);let i=!1,n=0;if(C.vertices.forEach((e=>{if(e.dead)return;const a=e.position.x-t,r=e.position.y-s;a*a+r*r<484?(i=e.dead=!0,this.headshot(this.targets[e.index])):++n})),i&&(++T,this.aliveText.setAttribute("text",{value:"NOMSTERS ALIVE: "+n})),0===n){const t=Math.round(100*T/S);this.accuracyText.setAttribute("visible",!0),this.accuracyText.setAttribute("text",{value:`ACCURACY: ${t}%`}),this.thanksText.setAttribute("visible",!0),i&&I(_)}else++S;break;case"reset":q=!1,this.aliveText.setAttribute("visible",!1),this.aliveText.setAttribute("text",{value:"NOMSTERS ALIVE: 13"}),this.accuracyText.setAttribute("visible",!1),this.accuracyText.setAttribute("text",{value:"ACCURACY: 100%"}),this.thanksText.setAttribute("visible",!1),this.title1.setAttribute("visible",!0),this.title2.setAttribute("visible",!0),requestAnimationFrame((()=>{this.targets.forEach((t=>{t.setAttribute("visible",!0)}))})),F(),I(O);break;case"music":H=!H,a.gain.value=H?.3333:0,I(O)}},headshot(t){t.setAttribute("visible",!1);const e=new THREE.Vector3(0,1.69,0);e.sub(t.object3D.position).normalize().multiplyScalar(2.5);for(let s=0;s<13;++s){const s=document.createElement("a-entity");s.setAttribute("geometry",{primitive:"sphere",radius:.1}),s.setAttribute("material",{color:t.components.material.data.color,emissive:t.components.material.data.emissive,emissiveIntensity:t.components.material.data.emissiveIntensity,opacity:1,transparent:!0}),s.setAttribute("position",t.object3D.position.clone()),s.setAttribute("animation__pos",{property:"position",to:{x:e.x+t.object3D.position.x+2*(Math.random()-.5),y:e.y+t.object3D.position.y+2*(Math.random()-.5),z:e.z+t.object3D.position.z+2*(Math.random()-.5)},dur:600,easing:"easeOutQuad"}),s.setAttribute("animation__trans",{property:"material.opacity",to:0,dur:600,easing:"easeInQuad"}),this.el.sceneEl.appendChild(s),s.addEventListener("animationcomplete",(t=>{"animation__trans"===t.detail.name&&s.parentNode.removeChild(s)}))}I(U)}}),AFRAME.registerComponent("unfuck-direction",{init(){this._initialized=!1},tick(){let t;if(this._initialized||!(t=this.el.parentNode).components["laser-controls"].modelReady)return;const e=t.components.raycaster.data.origin,s=t.components.raycaster.data.direction,i=new THREE.Vector3(s.x,s.y,s.z);i.applyAxisAngle(new THREE.Vector3(1,0,0),-.1*Math.PI);const a=i.clone().multiplyScalar(.15).add(e),n=i.clone().multiplyScalar(.1).add(e);t.setAttribute("raycaster",{direction:i,origin:a}),this.el.object3D.position.copy(n),this.el.object3D.quaternion.setFromUnitVectors(new THREE.Vector3(0,0,-1),i);const r=t.getObject3D("mesh");r&&(r.visible=!1),this.el.setAttribute("visible",!0),this._initialized=!0}});function I(t){try{null===t.buf&&(t.buf=i.createBuffer(1,t.raw.length,d),t.buf.getChannelData(0).set(t.raw));const e=i.createBufferSource();e.buffer=t.buf,e.connect(n),e.start()}catch(t){}}AFRAME.registerComponent("canvas-screen",{init(){const t=document.querySelectorAll(".target");t.forEach((t=>{t.setAttribute("visible",!0)}));const e=document.querySelectorAll(".target > a-entity");F(),((t,e,s=20)=>{let i,a=0;const n=r=>{requestAnimationFrame(n),a+=r-i,i=r;let c=4;for(;a>0;)a-=s,--c>=0&&t(s);e(a/s+1)};requestAnimationFrame((t=>{requestAnimationFrame(n),i=t}))})((()=>{q&&C.update()}),(s=>{C.vertices.forEach((t=>t.interpolate(s))),C.vertices.forEach((s=>{const[i,a,n,r]=((t,e)=>{const s=t/960*.6666*Math.PI+1.1666*Math.PI;return[7.6394*Math.cos(s),.01666*(540-e),7.6394*Math.sin(s),s]})(s.interpolated.x,s.interpolated.y);t[s.index].object3D.position.set(i,a,n),t[s.index].object3D.quaternion.setFromAxisAngle(new THREE.Vector3(0,1,0),-r-.5*Math.PI),e[s.index].object3D.position.set(.01*(s.position.x-s.oldPosition.x),.01*(s.position.y-s.oldPosition.y),.3666)}))}));const s=this.el.getObject3D("mesh");s&&(s.visible=!1)},tick(){}}),AFRAME.registerComponent("grid-floor",{init(){new t(document.querySelector("#canvas"),256,256,1,((t,e,s)=>{t.fillStyle="#f4f4f4",t.fillRect(0,0,e,s),t.fillStyle="#1a1c2c",t.fillRect(0,0,4,s),t.fillRect(0,0,s,4)})).con}});const _={raw:k.apply(null,[,,345,.01,.17,.87,1,1.05,.2,,67,.03,.02,,-.2,,,.79,,.04]),buf:null},O={raw:k.apply(null,[,,417,,.01,.01,,.94,-.1,2.5,-9,,,,,,,,.07,.01]),buf:null},P={raw:k.apply(null,[.8,0,40,.01,.02,.28,4,1.6,,1,-50,,-.01,.7,,.3,,.69,,,1478]),buf:null},U={raw:k.apply(null,[,,134,.08,.19,.34,,1.8,,-87,126,.06,.06,,,.1,,.84,.1]),buf:null};let z=!1;function L(){try{c().then(b),z=!0}catch(t){}}document.addEventListener("mousedown",(()=>{z||L()}),{once:!0}),document.addEventListener("touchend",(()=>{z||L()}),{once:!0})}();</script></head><body><a-scene background="color: #41a6f6" renderer="physicallyCorrectLights: true"><a-entity light="type: ambient; color: #f4f4f4"></a-entity><a-entity light="type: directional; color: #fff; intensity: 2" position="-0.2 1 1"></a-entity><a-curvedimage position="0 4.5 0" height=9 radius=8.1 theta-length=120 theta-start=120 material="color: #1a1c2c"></a-curvedimage><a-entity class=clickable geometry="primitive: plane; width: 15; height: 10" position="7.0148 4 2.5" rotation="0 -90 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 15; height: 10" position="-7.0148 4 2.5" rotation="0 90 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 14.0296; height: 10" position="0 4 10" rotation="0 180 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 99; height: 99" position="0 0 0" rotation="-89.9 0 0" material="src: #canvas; repeat: 99 99; metalness: 0; roughness: 1; anisotropy: 16" grid-floor></a-entity><a-entity class=clickable geometry="primitive: plane; width: 14.0296; height: 20" position="0 8.9 0.5" rotation="89.9 0 0" material="visible: false"></a-entity><a-curvedimage class=clickable id=screen position="0 4.5 0" height=9 radius=7.6394 theta-length=120 theta-start=120 canvas-screen></a-curvedimage><a-entity class=title text="font: exo2bold; value: SHOOT; align: center; color: #f4f4f4; width: 4; wrap-count: 6" position="0 6.1 -7"></a-entity><a-entity class=title text="font: exo2bold; value: NOMSTERS; align: center; color: #f4f4f4; width: 4; wrap-count: 10" position="0 1.4 -7"></a-entity><a-entity class=alive text="font: exo2bold; value: NOMSTERS ALIVE: 13; align: center; color: #f4f4f4; width: 6; wrap-count: 17" position="0 7 -7" visible=false></a-entity><a-entity class=accuracy text="font: exo2bold; value: ACCURACY: 100%; align: center; color: #f4f4f4; width: 6; wrap-count: 17" position="0 6 -7" visible=false></a-entity><a-entity class=thanks text="font: exo2bold; value: THANKS FOR PLAYING!; align: center; color: #f4f4f4; width: 8; wrap-count: 20" position="0 4.5 -7" visible=false></a-entity><a-entity class=clickable id=reset geometry="primitive: plane; width: 2.5; height: 1.5" position="7 2 0" rotation="0 -90 0" material="color: #566c86"><a-entity text="font: exo2bold; value: RESET; align: center; color: #f4f4f4; width: 2; wrap-count: 6" position="0 0.06 0.05"></a-entity></a-entity><a-entity class=clickable id=music geometry="primitive: plane; width: 2.5; height: 1.5" position="-7 2 0" rotation="0 90 0" material="color: #566c86"><a-entity text="font: exo2bold; value: MUSIC; align: center; color: #f4f4f4; width: 2; wrap-count: 6" position="0 0.06 0.05"></a-entity></a-entity><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-entity camera="fov: 85" look-controls="pointerLockEnabled: true" wasd-controls position="0 1.69 0"><a-entity cursor="fuse: false" raycaster="objects: .clickable" dakka geometry="primitive: circle; radius: 0.01" position="0 0 -1" material="color: #fff; opacity: 0.9; shader: flat" hide-on-enter-vr></a-entity></a-entity><a-entity laser-controls="hand: right; model: true" raycaster="objects: .clickable; lineOpacity: 0" dakka><a-entity unfuck-direction visible=false><a-cylinder position="0 0 -0.01" rotation="-90 0 0" radius=0.015 height=0.02 color=#333c57></a-cylinder><a-box position="0 0 0.1" width=0.05 height=0.08 depth=0.2 color=#333c57></a-box><a-box position="0 -0.09 0.14" width=0.03 height=0.1 depth=0.04 color=#333c57></a-box><a-box position="0 0.045 0.015" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="-0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box></a-entity></a-entity><a-entity laser-controls="hand: left; model: true" raycaster="objects: .clickable; lineOpacity: 0" dakka><a-entity unfuck-direction visible=false><a-cylinder position="0 0 -0.01" rotation="-90 0 0" radius=0.015 height=0.02 color=#333c57></a-cylinder><a-box position="0 0 0.1" width=0.05 height=0.08 depth=0.2 color=#333c57></a-box><a-box position="0 -0.09 0.14" width=0.03 height=0.1 depth=0.04 color=#333c57></a-box><a-box position="0 0.045 0.015" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="-0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box></a-entity></a-entity><a-assets><canvas id=canvas crossorigin=anonymous></canvas></a-assets></a-scene></body></html>